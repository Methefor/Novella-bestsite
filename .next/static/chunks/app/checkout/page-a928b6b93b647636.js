(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[279],{898:(e,t,s)=>{Promise.resolve().then(s.bind(s,525))},3817:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(7401).A)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},5844:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(7401).A)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},767:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(7401).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6046:(e,t,s)=>{"use strict";var r=s(6658);s.o(r,"notFound")&&s.d(t,{notFound:function(){return r.notFound}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},525:(e,t,s)=>{"use strict";s.d(t,{default:()=>b});var r=s(5155),a=s(2315),o=s(7401);let l=(0,o.A)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var i=s(767),n=s(2115);function d(e){let{showCoupon:t=!0}=e,[s,o]=(0,n.useState)(""),[d,c]=(0,n.useState)(""),u=(0,a.x3)(e=>e.subtotal),m=(0,a.x3)(e=>e.shippingCost),p=(0,a.x3)(e=>e.discount),x=(0,a.x3)(e=>e.total),h=(0,a.x3)(e=>e.applyCoupon),g=(0,a.x3)(e=>e.removeCoupon),b=p>0,f=400-u;return(0,r.jsxs)("div",{className:"space-y-4",children:[m>0&&f>0&&(0,r.jsxs)("div",{className:"p-3 bg-blue-50 rounded-lg",children:[(0,r.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,r.jsxs)("strong",{children:[f.toLocaleString("tr-TR"),"₺"]})," ","daha alışveriş yapın,",(0,r.jsx)("strong",{children:" kargo bedava!"})," \uD83C\uDF89"]}),(0,r.jsx)("div",{className:"mt-2 h-2 bg-blue-200 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:"h-full bg-blue-600 transition-all duration-300",style:{width:"".concat(u/400*100,"%")}})})]}),0===m&&u>=400&&(0,r.jsx)("div",{className:"p-3 bg-green-50 rounded-lg text-sm text-green-800",children:"✅ \xdccretsiz kargo kazandınız!"}),t&&!b&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Kupon Kodu"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"text",value:s,onChange:e=>{o(e.target.value.toUpperCase()),c("")},placeholder:"KUPON KODU",className:"flex-1 px-3 py-2 border border-cream-300 rounded-lg focus:border-gold focus:ring-2 focus:ring-gold/20 focus:outline-none text-sm"}),(0,r.jsx)("button",{onClick:()=>{if(!s.trim()){c("Kupon kodu giriniz");return}h(s)?(o(""),c("")):c("Ge\xe7ersiz kupon kodu")},className:"px-4 py-2 bg-gold text-white rounded-lg hover:bg-gold/90 transition-colors text-sm font-medium",children:"Uygula"})]}),d&&(0,r.jsx)("p",{className:"text-xs text-red-600 mt-1",children:d})]}),b&&(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[(0,r.jsx)(l,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"font-medium",children:"Kupon uygulandı"})]}),(0,r.jsx)("button",{onClick:()=>{g(),o(""),c("")},className:"p-1 hover:bg-green-100 rounded transition-colors",children:(0,r.jsx)(i.A,{className:"w-4 h-4 text-green-600"})})]}),(0,r.jsxs)("div",{className:"space-y-3 pt-4 border-t border-cream-200",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-black/60",children:"Ara Toplam"}),(0,r.jsxs)("span",{className:"font-medium text-black",children:[u.toLocaleString("tr-TR"),"₺"]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-black/60",children:"Kargo"}),(0,r.jsx)("span",{className:"font-medium text-black",children:0===m?(0,r.jsx)("span",{className:"text-green-600",children:"\xdccretsiz"}):"".concat(m.toLocaleString("tr-TR"),"₺")})]}),p>0&&(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-black/60",children:"İndirim"}),(0,r.jsxs)("span",{className:"font-medium text-green-600",children:["-",p.toLocaleString("tr-TR"),"₺"]})]}),(0,r.jsxs)("div",{className:"flex justify-between pt-3 border-t border-cream-200",children:[(0,r.jsx)("span",{className:"font-bold text-black",children:"Toplam"}),(0,r.jsxs)("span",{className:"font-bold text-xl text-gold",children:[x.toLocaleString("tr-TR"),"₺"]})]})]}),(0,r.jsx)("p",{className:"text-xs text-black/60 text-center",children:"KDV dahildir"})]})}var c=s(2849);class u{async createOrder(e){try{return console.log("Shopier Order Created:",e),await new Promise(e=>setTimeout(e,1500)),{success:!0,orderId:"NOVELLA-".concat(Date.now())}}catch(e){return console.error("Shopier order error:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}cartItemsToShopierProducts(e){return e.map(e=>({product_name:e.product.name,product_code:e.product.slug,quantity:e.quantity,price:e.product.price}))}async getPaymentUrl(e){return"https://www.shopier.com/ShowProduct/checkout.php?order_id=".concat(e)}constructor(){this.baseUrl="https://www.shopier.com/api/v1",this.apiKey="ger\xe7ek_api_key",this.apiSecret="ger\xe7ek_api_secret"}}let m=new u;var p=s(3817),x=s(5844);let h=(0,o.A)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var g=s(6046);function b(){let e=(0,g.useRouter)(),t=(0,a.x3)(a.V0),s=(0,a.x3)(e=>e.items);(0,a.x3)(e=>e.subtotal);let o=(0,a.x3)(e=>e.shippingCost),l=(0,a.x3)(e=>e.discount),i=(0,a.x3)(e=>e.total),u=(0,a.x3)(e=>e.clearCart),b=(0,c.d)(),[f,y]=(0,n.useState)(!1),[N,v]=(0,n.useState)({email:"",phone:"",firstName:"",lastName:"",address:"",city:"",district:"",zipCode:"",paymentMethod:"credit-card",orderNote:""});(0,n.useEffect)(()=>{t||e.push("/collections")},[t,e]);let j=async t=>{t.preventDefault(),y(!0);try{let t={order_id:"NOVELLA-".concat(Date.now()),email:N.email,phone:N.phone,first_name:N.firstName,last_name:N.lastName,address:N.address,city:N.city,district:N.district,zip_code:N.zipCode,products:m.cartItemsToShopierProducts(s),total_amount:i,shipping_amount:o,discount_amount:l,order_note:N.orderNote},r=await m.createOrder(t);r.success?(b.success("Siparişiniz oluşturuldu!"),u(),e.push("/order-success?order_id=".concat(r.orderId))):b.error(r.error||"Sipariş oluşturulamadı")}catch(e){console.error("Checkout error:",e),b.error("Bir hata oluştu. L\xfctfen tekrar deneyin.")}finally{y(!1)}},k=(e,t)=>{v(s=>({...s,[e]:t}))};return t?(0,r.jsx)("div",{className:"min-h-screen bg-cream",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"font-serif text-3xl lg:text-4xl text-black mb-2",children:"\xd6deme"}),(0,r.jsx)("p",{className:"text-black/60",children:"Teslimat ve \xf6deme bilgilerinizi girin"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-8 p-4 bg-white rounded-lg",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(p.A,{className:"w-6 h-6 text-gold mx-auto mb-2"}),(0,r.jsx)("p",{className:"text-xs text-black/60",children:"G\xfcvenli \xd6deme"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(x.A,{className:"w-6 h-6 text-gold mx-auto mb-2"}),(0,r.jsx)("p",{className:"text-xs text-black/60",children:"Hızlı Kargo"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(h,{className:"w-6 h-6 text-gold mx-auto mb-2"}),(0,r.jsx)("p",{className:"text-xs text-black/60",children:"G\xfcvenli \xd6deme"})]})]}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,r.jsx)("div",{className:"lg:col-span-2",children:(0,r.jsxs)("form",{onSubmit:j,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"font-serif text-xl text-black mb-4",children:"İletişim Bilgileri"}),(0,r.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,r.jsx)("input",{type:"email",required:!0,value:N.email,onChange:e=>k("email",e.target.value),placeholder:"E-posta *",className:"px-4 py-3 border border-cream-300 rounded-lg focus:border-gold focus:ring-2 focus:ring-gold/20 focus:outline-none"}),(0,r.jsx)("input",{type:"tel",required:!0,value:N.phone,onChange:e=>k("phone",e.target.value),placeholder:"Telefon *",className:"px-4 py-3 border border-cream-300 rounded-lg focus:border-gold focus:ring-2 focus:ring-gold/20 focus:outline-none"})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"font-serif text-xl text-black mb-4",children:"Teslimat Adresi"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,r.jsx)("input",{type:"text",required:!0,value:N.firstName,onChange:e=>k("firstName",e.target.value),placeholder:"Ad *",className:"px-4 py-3 border border-cream-300 rounded-lg focus:border-gold focus:ring-2 focus:ring-gold/20 focus:outline-none"}),(0,r.jsx)("input",{type:"text",required:!0,value:N.lastName,onChange:e=>k("lastName",e.target.value),placeholder:"Soyad *",className:"px-4 py-3 border border-cream-300 rounded-lg focus:border-gold focus:ring-2 focus:ring-gold/20 focus:outline-none"})]}),(0,r.jsx)("textarea",{required:!0,value:N.address,onChange:e=>k("address",e.target.value),placeholder:"Adres *",rows:3,className:"w-full px-4 py-3 border border-cream-300 rounded-lg focus:border-gold focus:ring-2 focus:ring-gold/20 focus:outline-none resize-none"}),(0,r.jsxs)("div",{className:"grid sm:grid-cols-3 gap-4",children:[(0,r.jsx)("input",{type:"text",required:!0,value:N.city,onChange:e=>k("city",e.target.value),placeholder:"İl *",className:"px-4 py-3 border border-cream-300 rounded-lg focus:border-gold focus:ring-2 focus:ring-gold/20 focus:outline-none"}),(0,r.jsx)("input",{type:"text",required:!0,value:N.district,onChange:e=>k("district",e.target.value),placeholder:"İl\xe7e *",className:"px-4 py-3 border border-cream-300 rounded-lg focus:border-gold focus:ring-2 focus:ring-gold/20 focus:outline-none"}),(0,r.jsx)("input",{type:"text",value:N.zipCode,onChange:e=>k("zipCode",e.target.value),placeholder:"Posta Kodu",className:"px-4 py-3 border border-cream-300 rounded-lg focus:border-gold focus:ring-2 focus:ring-gold/20 focus:outline-none"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"font-serif text-xl text-black mb-4",children:"\xd6deme Y\xf6ntemi"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("label",{className:"flex items-center gap-3 p-4 border-2 border-cream-300 rounded-lg cursor-pointer hover:border-gold transition-colors",children:[(0,r.jsx)("input",{type:"radio",name:"paymentMethod",value:"credit-card",checked:"credit-card"===N.paymentMethod,onChange:e=>k("paymentMethod",e.target.value),className:"w-4 h-4 text-gold focus:ring-gold"}),(0,r.jsx)(h,{className:"w-5 h-5 text-gold"}),(0,r.jsx)("span",{className:"font-medium",children:"Kredi/Banka Kartı"})]}),(0,r.jsxs)("label",{className:"flex items-center gap-3 p-4 border-2 border-cream-300 rounded-lg cursor-pointer hover:border-gold transition-colors",children:[(0,r.jsx)("input",{type:"radio",name:"paymentMethod",value:"bank-transfer",checked:"bank-transfer"===N.paymentMethod,onChange:e=>k("paymentMethod",e.target.value),className:"w-4 h-4 text-gold focus:ring-gold"}),(0,r.jsx)("span",{className:"font-medium",children:"Havale/EFT"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"font-serif text-xl text-black mb-4",children:"Sipariş Notu (Opsiyonel)"}),(0,r.jsx)("textarea",{value:N.orderNote,onChange:e=>k("orderNote",e.target.value),placeholder:"\xd6zel bir talebiniz var mı?",rows:3,className:"w-full px-4 py-3 border border-cream-300 rounded-lg focus:border-gold focus:ring-2 focus:ring-gold/20 focus:outline-none resize-none"})]}),(0,r.jsx)("button",{type:"submit",disabled:f,className:"w-full py-4 bg-gold text-white font-medium rounded-lg hover:bg-gold/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:f?"İşleminiz Ger\xe7ekleştiriliyor...":"Siparişi Tamamla"})]})}),(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 sticky top-24",children:[(0,r.jsx)("h2",{className:"font-serif text-xl text-black mb-4",children:"Sipariş \xd6zeti"}),(0,r.jsx)("div",{className:"space-y-3 mb-6 max-h-60 overflow-y-auto",children:s.map(e=>(0,r.jsxs)("div",{className:"flex gap-3 text-sm",children:[(0,r.jsx)("div",{className:"flex-shrink-0 w-16 h-16 bg-cream-50 rounded"}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"font-medium line-clamp-1",children:e.product.name}),(0,r.jsxs)("p",{className:"text-black/60",children:["Adet: ",e.quantity]})]}),(0,r.jsxs)("p",{className:"font-medium",children:[(e.product.price*e.quantity).toLocaleString("tr-TR"),"₺"]})]},e.id))}),(0,r.jsx)(d,{})]})})]})]})}):null}},2849:(e,t,s)=>{"use strict";s.d(t,{W:()=>r,d:()=>a});let r=(0,s(9827).v)(e=>({toasts:[],addToast:t=>{let s=Math.random().toString(36).substring(2,9),r={...t,id:s};e(e=>({toasts:[...e.toasts,r]})),setTimeout(()=>{e(e=>({toasts:e.toasts.filter(e=>e.id!==s)}))},t.duration||3e3)},removeToast:t=>e(e=>({toasts:e.toasts.filter(e=>e.id!==t)})),clearAll:()=>e({toasts:[]})})),a=()=>{let e=r(e=>e.addToast);return{success:t=>e({type:"success",message:t}),error:t=>e({type:"error",message:t}),warning:t=>e({type:"warning",message:t}),info:t=>e({type:"info",message:t})}}},2315:(e,t,s)=>{"use strict";s.d(t,{V0:()=>i,x3:()=>l});var r=s(9827),a=s(709);let o=e=>e>=400?0:29.9,l=(0,r.v)()((0,a.lt)((0,a.Zr)((e,t)=>({items:[],isDrawerOpen:!1,itemCount:0,subtotal:0,shippingCost:0,discount:0,total:0,addItem:function(s,r){let a,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,n=s.variants.find(e=>e.id===r);if(!n)return;let d="".concat(s.id,"-").concat(r).concat(i?"-".concat(i):""),c=t().items,u=c.find(e=>e.id===d);if(u){let e=Math.min(u.quantity+l,n.stock);a=c.map(t=>t.id===d?{...t,quantity:e}:t)}else a=[...c,{id:d,product:s,variant:n,quantity:Math.min(l,n.stock),customization:i}];let m=a.reduce((e,t)=>e+t.product.price*t.quantity,0),p=o(m),x=m+p-t().discount,h=a.reduce((e,t)=>e+t.quantity,0);e({items:a,itemCount:h,subtotal:m,shippingCost:p,total:x,isDrawerOpen:!0},!1,"addItem")},removeItem:s=>{let r=t().items.filter(e=>e.id!==s),a=r.reduce((e,t)=>e+t.product.price*t.quantity,0),l=o(a),i=a+l-t().discount,n=r.reduce((e,t)=>e+t.quantity,0);e({items:r,itemCount:n,subtotal:a,shippingCost:l,total:i},!1,"removeItem")},updateQuantity:(s,r)=>{if(r<1){t().removeItem(s);return}let a=t().items.map(e=>{if(e.id===s){let t=e.variant.stock;return{...e,quantity:Math.min(r,t)}}return e}),l=a.reduce((e,t)=>e+t.product.price*t.quantity,0),i=o(l),n=l+i-t().discount,d=a.reduce((e,t)=>e+t.quantity,0);e({items:a,itemCount:d,subtotal:l,shippingCost:i,total:n},!1,"updateQuantity")},clearCart:()=>{e({items:[],itemCount:0,subtotal:0,shippingCost:0,discount:0,total:0},!1,"clearCart")},openDrawer:()=>e({isDrawerOpen:!0},!1,"openDrawer"),closeDrawer:()=>e({isDrawerOpen:!1},!1,"closeDrawer"),toggleDrawer:()=>e(e=>({isDrawerOpen:!e.isDrawerOpen}),!1,"toggleDrawer"),applyCoupon:s=>{let r={ILKALISVERIS:50,NOVELLA10:10,YENIYIL25:25}[s.toUpperCase()];if(!r)return!1;let a=t().subtotal,o=0;o="NOVELLA10"===s.toUpperCase()?Math.round(.1*a):r;let l=a+t().shippingCost-o;return e({discount:o,total:l},!1,"applyCoupon"),!0},removeCoupon:()=>{e({discount:0,total:t().subtotal+t().shippingCost},!1,"removeCoupon")}}),{name:"novella-cart",partialize:e=>({items:e.items,discount:e.discount})}))),i=e=>e.items.length>0}},e=>{var t=t=>e(e.s=t);e.O(0,[511,441,517,358],()=>t(898)),_N_E=e.O()}]);