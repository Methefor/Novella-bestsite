(()=>{var e={};e.id=279,e.ids=[279],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},1004:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var t=s(260),a=s(8203),o=s(5155),l=s.n(o),n=s(7292),i={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);s.d(r,i);let d=["",{children:["checkout",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5940)),"C:\\Users\\methe\\Novella-bestsite\\src\\app\\checkout\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,381)),"C:\\Users\\methe\\Novella-bestsite\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,1485,23)),"next/dist/client/components/unauthorized-error"]}],c=["C:\\Users\\methe\\Novella-bestsite\\src\\app\\checkout\\page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/checkout/page",pathname:"/checkout",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3678:(e,r,s)=>{Promise.resolve().then(s.bind(s,3824))},6726:(e,r,s)=>{Promise.resolve().then(s.bind(s,3191))},9365:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(1680).A)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},1918:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(1680).A)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},9334:(e,r,s)=>{"use strict";var t=s(8686);s.o(t,"notFound")&&s.d(r,{notFound:function(){return t.notFound}}),s.o(t,"useRouter")&&s.d(r,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(r,{useSearchParams:function(){return t.useSearchParams}})},3191:(e,r,s)=>{"use strict";s.d(r,{default:()=>b});var t=s(5512),a=s(479),o=s(1680);let l=(0,o.A)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var n=s(4269),i=s(8009);function d({showCoupon:e=!0}){let[r,s]=(0,i.useState)(""),[o,d]=(0,i.useState)(""),c=(0,a.x3)(e=>e.subtotal),u=(0,a.x3)(e=>e.shippingCost),m=(0,a.x3)(e=>e.discount),x=(0,a.x3)(e=>e.total),p=(0,a.x3)(e=>e.applyCoupon),h=(0,a.x3)(e=>e.removeCoupon),g=m>0,b=400-c;return(0,t.jsxs)("div",{className:"space-y-4",children:[u>0&&b>0&&(0,t.jsxs)("div",{className:"p-3 bg-blue-50 rounded-lg",children:[(0,t.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,t.jsxs)("strong",{children:[b.toLocaleString("tr-TR"),"₺"]})," ","daha alışveriş yapın,",(0,t.jsx)("strong",{children:" kargo bedava!"})," \uD83C\uDF89"]}),(0,t.jsx)("div",{className:"mt-2 h-2 bg-blue-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-blue-600 transition-all duration-300",style:{width:`${c/400*100}%`}})})]}),0===u&&c>=400&&(0,t.jsx)("div",{className:"p-3 bg-green-50 rounded-lg text-sm text-green-800",children:"✅ \xdccretsiz kargo kazandınız!"}),e&&!g&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Kupon Kodu"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"text",value:r,onChange:e=>{s(e.target.value.toUpperCase()),d("")},placeholder:"KUPON KODU",className:"flex-1 px-3 py-2 border border-cream-300 rounded-lg focus:border-gold focus:ring-2 focus:ring-gold/20 focus:outline-none text-sm"}),(0,t.jsx)("button",{onClick:()=>{if(!r.trim()){d("Kupon kodu giriniz");return}p(r)?(s(""),d("")):d("Ge\xe7ersiz kupon kodu")},className:"px-4 py-2 bg-gold text-white rounded-lg hover:bg-gold/90 transition-colors text-sm font-medium",children:"Uygula"})]}),o&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:o})]}),g&&(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[(0,t.jsx)(l,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"font-medium",children:"Kupon uygulandı"})]}),(0,t.jsx)("button",{onClick:()=>{h(),s(""),d("")},className:"p-1 hover:bg-green-100 rounded transition-colors",children:(0,t.jsx)(n.A,{className:"w-4 h-4 text-green-600"})})]}),(0,t.jsxs)("div",{className:"space-y-3 pt-4 border-t border-cream-200",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-black/60",children:"Ara Toplam"}),(0,t.jsxs)("span",{className:"font-medium text-black",children:[c.toLocaleString("tr-TR"),"₺"]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-black/60",children:"Kargo"}),(0,t.jsx)("span",{className:"font-medium text-black",children:0===u?(0,t.jsx)("span",{className:"text-green-600",children:"\xdccretsiz"}):`${u.toLocaleString("tr-TR")}₺`})]}),m>0&&(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-black/60",children:"İndirim"}),(0,t.jsxs)("span",{className:"font-medium text-green-600",children:["-",m.toLocaleString("tr-TR"),"₺"]})]}),(0,t.jsxs)("div",{className:"flex justify-between pt-3 border-t border-cream-200",children:[(0,t.jsx)("span",{className:"font-bold text-black",children:"Toplam"}),(0,t.jsxs)("span",{className:"font-bold text-xl text-gold",children:[x.toLocaleString("tr-TR"),"₺"]})]})]}),(0,t.jsx)("p",{className:"text-xs text-black/60 text-center",children:"KDV dahildir"})]})}var c=s(3623);class u{constructor(){this.baseUrl="https://www.shopier.com/api/v1",this.apiKey="ger\xe7ek_api_key",this.apiSecret="ger\xe7ek_api_secret"}async createOrder(e){try{return console.log("Shopier Order Created:",e),await new Promise(e=>setTimeout(e,1500)),{success:!0,orderId:`NOVELLA-${Date.now()}`}}catch(e){return console.error("Shopier order error:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}cartItemsToShopierProducts(e){return e.map(e=>({product_name:e.product.name,product_code:e.product.slug,quantity:e.quantity,price:e.product.price}))}async getPaymentUrl(e){return`https://www.shopier.com/ShowProduct/checkout.php?order_id=${e}`}}let m=new u;var x=s(9365),p=s(1918);let h=(0,o.A)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var g=s(9334);function b(){let e=(0,g.useRouter)(),r=(0,a.x3)(a.V0),s=(0,a.x3)(e=>e.items);(0,a.x3)(e=>e.subtotal);let o=(0,a.x3)(e=>e.shippingCost),l=(0,a.x3)(e=>e.discount),n=(0,a.x3)(e=>e.total),u=(0,a.x3)(e=>e.clearCart),b=(0,c.d)(),[f,v]=(0,i.useState)(!1),[N,j]=(0,i.useState)({email:"",phone:"",firstName:"",lastName:"",address:"",city:"",district:"",zipCode:"",paymentMethod:"credit-card",orderNote:""}),y=async r=>{r.preventDefault(),v(!0);try{let r={order_id:`NOVELLA-${Date.now()}`,email:N.email,phone:N.phone,first_name:N.firstName,last_name:N.lastName,address:N.address,city:N.city,district:N.district,zip_code:N.zipCode,products:m.cartItemsToShopierProducts(s),total_amount:n,shipping_amount:o,discount_amount:l,order_note:N.orderNote},t=await m.createOrder(r);t.success?(b.success("Siparişiniz oluşturuldu!"),u(),e.push(`/order-success?order_id=${t.orderId}`)):b.error(t.error||"Sipariş oluşturulamadı")}catch(e){console.error("Checkout error:",e),b.error("Bir hata oluştu. L\xfctfen tekrar deneyin.")}finally{v(!1)}},k=(e,r)=>{j(s=>({...s,[e]:r}))};return r?(0,t.jsx)("div",{className:"min-h-screen bg-cream",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"font-serif text-3xl lg:text-4xl text-black mb-2",children:"\xd6deme"}),(0,t.jsx)("p",{className:"text-black/60",children:"Teslimat ve \xf6deme bilgilerinizi girin"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-8 p-4 bg-white rounded-lg",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(x.A,{className:"w-6 h-6 text-gold mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-xs text-black/60",children:"G\xfcvenli \xd6deme"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(p.A,{className:"w-6 h-6 text-gold mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-xs text-black/60",children:"Hızlı Kargo"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(h,{className:"w-6 h-6 text-gold mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-xs text-black/60",children:"G\xfcvenli \xd6deme"})]})]}),(0,t.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6",children:[(0,t.jsx)("h2",{className:"font-serif text-xl text-black mb-4",children:"İletişim Bilgileri"}),(0,t.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,t.jsx)("input",{type:"email",required:!0,value:N.email,onChange:e=>k("email",e.target.value),placeholder:"E-posta *",className:"px-4 py-3 border border-cream-300 rounded-lg focus:border-gold focus:ring-2 focus:ring-gold/20 focus:outline-none"}),(0,t.jsx)("input",{type:"tel",required:!0,value:N.phone,onChange:e=>k("phone",e.target.value),placeholder:"Telefon *",className:"px-4 py-3 border border-cream-300 rounded-lg focus:border-gold focus:ring-2 focus:ring-gold/20 focus:outline-none"})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6",children:[(0,t.jsx)("h2",{className:"font-serif text-xl text-black mb-4",children:"Teslimat Adresi"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,t.jsx)("input",{type:"text",required:!0,value:N.firstName,onChange:e=>k("firstName",e.target.value),placeholder:"Ad *",className:"px-4 py-3 border border-cream-300 rounded-lg focus:border-gold focus:ring-2 focus:ring-gold/20 focus:outline-none"}),(0,t.jsx)("input",{type:"text",required:!0,value:N.lastName,onChange:e=>k("lastName",e.target.value),placeholder:"Soyad *",className:"px-4 py-3 border border-cream-300 rounded-lg focus:border-gold focus:ring-2 focus:ring-gold/20 focus:outline-none"})]}),(0,t.jsx)("textarea",{required:!0,value:N.address,onChange:e=>k("address",e.target.value),placeholder:"Adres *",rows:3,className:"w-full px-4 py-3 border border-cream-300 rounded-lg focus:border-gold focus:ring-2 focus:ring-gold/20 focus:outline-none resize-none"}),(0,t.jsxs)("div",{className:"grid sm:grid-cols-3 gap-4",children:[(0,t.jsx)("input",{type:"text",required:!0,value:N.city,onChange:e=>k("city",e.target.value),placeholder:"İl *",className:"px-4 py-3 border border-cream-300 rounded-lg focus:border-gold focus:ring-2 focus:ring-gold/20 focus:outline-none"}),(0,t.jsx)("input",{type:"text",required:!0,value:N.district,onChange:e=>k("district",e.target.value),placeholder:"İl\xe7e *",className:"px-4 py-3 border border-cream-300 rounded-lg focus:border-gold focus:ring-2 focus:ring-gold/20 focus:outline-none"}),(0,t.jsx)("input",{type:"text",value:N.zipCode,onChange:e=>k("zipCode",e.target.value),placeholder:"Posta Kodu",className:"px-4 py-3 border border-cream-300 rounded-lg focus:border-gold focus:ring-2 focus:ring-gold/20 focus:outline-none"})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6",children:[(0,t.jsx)("h2",{className:"font-serif text-xl text-black mb-4",children:"\xd6deme Y\xf6ntemi"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 p-4 border-2 border-cream-300 rounded-lg cursor-pointer hover:border-gold transition-colors",children:[(0,t.jsx)("input",{type:"radio",name:"paymentMethod",value:"credit-card",checked:"credit-card"===N.paymentMethod,onChange:e=>k("paymentMethod",e.target.value),className:"w-4 h-4 text-gold focus:ring-gold"}),(0,t.jsx)(h,{className:"w-5 h-5 text-gold"}),(0,t.jsx)("span",{className:"font-medium",children:"Kredi/Banka Kartı"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 p-4 border-2 border-cream-300 rounded-lg cursor-pointer hover:border-gold transition-colors",children:[(0,t.jsx)("input",{type:"radio",name:"paymentMethod",value:"bank-transfer",checked:"bank-transfer"===N.paymentMethod,onChange:e=>k("paymentMethod",e.target.value),className:"w-4 h-4 text-gold focus:ring-gold"}),(0,t.jsx)("span",{className:"font-medium",children:"Havale/EFT"})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6",children:[(0,t.jsx)("h2",{className:"font-serif text-xl text-black mb-4",children:"Sipariş Notu (Opsiyonel)"}),(0,t.jsx)("textarea",{value:N.orderNote,onChange:e=>k("orderNote",e.target.value),placeholder:"\xd6zel bir talebiniz var mı?",rows:3,className:"w-full px-4 py-3 border border-cream-300 rounded-lg focus:border-gold focus:ring-2 focus:ring-gold/20 focus:outline-none resize-none"})]}),(0,t.jsx)("button",{type:"submit",disabled:f,className:"w-full py-4 bg-gold text-white font-medium rounded-lg hover:bg-gold/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:f?"İşleminiz Ger\xe7ekleştiriliyor...":"Siparişi Tamamla"})]})}),(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 sticky top-24",children:[(0,t.jsx)("h2",{className:"font-serif text-xl text-black mb-4",children:"Sipariş \xd6zeti"}),(0,t.jsx)("div",{className:"space-y-3 mb-6 max-h-60 overflow-y-auto",children:s.map(e=>(0,t.jsxs)("div",{className:"flex gap-3 text-sm",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-16 h-16 bg-cream-50 rounded"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"font-medium line-clamp-1",children:e.product.name}),(0,t.jsxs)("p",{className:"text-black/60",children:["Adet: ",e.quantity]})]}),(0,t.jsxs)("p",{className:"font-medium",children:[(e.product.price*e.quantity).toLocaleString("tr-TR"),"₺"]})]},e.id))}),(0,t.jsx)(d,{})]})})]})]})}):null}},3824:(e,r,s)=>{"use strict";s.d(r,{default:()=>t});let t=(0,s(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\methe\\\\Novella-bestsite\\\\src\\\\app\\\\checkout\\\\CheckoutClient.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\methe\\Novella-bestsite\\src\\app\\checkout\\CheckoutClient.tsx","default")},5940:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>l,metadata:()=>o});var t=s(2740),a=s(3824);let o={title:"\xd6deme | NOVELLA",description:"Alışverişinizi g\xfcvenle tamamlayın.",robots:"noindex, nofollow"};function l(){return(0,t.jsx)(a.default,{})}}};var r=require("../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[733,968,61],()=>s(1004));module.exports=t})();